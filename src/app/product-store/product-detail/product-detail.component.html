<ocx-portal-page permission="PRODUCT#VIEW" helpArticleId="PAGE_PRODUCT_DETAIL">
  <ocx-page-header
    [loading]="loading"
    [header]="product?.displayName"
    [subheader]="'DIALOG.DETAIL.SUBHEADER' | translate"
    [actions]="actions"
    [figureImage]="headerImageUrl"
    [figureBackground]="!product?.imageUrl"
  >
  </ocx-page-header>
  <ocx-page-content>
    <div *ngIf="!product && changeMode !== 'NEW'" class="card px-3 align-items-center">
      <p-message severity="error" styleClass="p-2" [text]="'VALIDATION.PRODUCT.NOT_EXISTS' | translate"></p-message>
    </div>
    <p-tabView *ngIf="(product && !loading) || changeMode === 'NEW'">
      <p-tabPanel id="product_detail_panel_props" [header]="'DIALOG.TABS.PROPERTIES' | translate">
        <ps-product-props
          [product]="product"
          [changeMode]="changeMode"
          (productCreate)="onCreate($event)"
          (productNameChanged)="onNameChange($event)"
        ></ps-product-props>
      </p-tabPanel>

      <p-tabPanel id="product_detail_panel_intern" [header]="'DIALOG.TABS.INTERN' | translate">
        <ps-product-intern [product]="product" [dateFormat]="dateFormat"></ps-product-intern>
      </p-tabPanel>

      <p-tabPanel id="product_detail_panel_apps" [header]="'DIALOG.TABS.APPS' | translate">
        <!--p-panel [showHeader]="false" styleClass="pt-1 pb-0 mx-2 my-1 surface-50"> Apps </p-panel-->
      </p-tabPanel>
    </p-tabView>
  </ocx-page-content>
</ocx-portal-page>
